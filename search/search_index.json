{"config":{"indexing":"full","lang":["en"],"min_search_length":3,"prebuild_index":false,"separator":"[\\s\\-]+"},"docs":[{"location":"","text":"The Internals of Kafka Streams 3.0.0 \u00b6 Welcome to The Internals of Kafka Streams online book! \ud83e\udd19 I'm Jacek Laskowski , an IT freelancer specializing in Apache Spark , Delta Lake and Apache Kafka (with brief forays into a wider data engineering space, e.g. Trino and ksqlDB , mostly during Warsaw Data Engineering meetups). I'm very excited to have you here and hope you will enjoy exploring the internals of Kafka Streams as much as I have. Flannery O'Connor I write to discover what I know. \"The Internals Of\" series I'm also writing other online books in the \"The Internals Of\" series. Please visit \"The Internals Of\" Online Books home page. Expect text and code snippets from a variety of public sources. Attribution follows. Now, let's take a deep dive into Kafka Streams \ud83d\udd25 Last update: 2021-10-01","title":"Home"},{"location":"#the-internals-of-kafka-streams-300","text":"Welcome to The Internals of Kafka Streams online book! \ud83e\udd19 I'm Jacek Laskowski , an IT freelancer specializing in Apache Spark , Delta Lake and Apache Kafka (with brief forays into a wider data engineering space, e.g. Trino and ksqlDB , mostly during Warsaw Data Engineering meetups). I'm very excited to have you here and hope you will enjoy exploring the internals of Kafka Streams as much as I have. Flannery O'Connor I write to discover what I know. \"The Internals Of\" series I'm also writing other online books in the \"The Internals Of\" series. Please visit \"The Internals Of\" Online Books home page. Expect text and code snippets from a variety of public sources. Attribution follows. Now, let's take a deep dive into Kafka Streams \ud83d\udd25 Last update: 2021-10-01","title":"The Internals of Kafka Streams 3.0.0"},{"location":"AbstractTask/","text":"AbstractTask \u00b6 AbstractTask is...FIXME","title":"AbstractTask"},{"location":"AbstractTask/#abstracttask","text":"AbstractTask is...FIXME","title":"AbstractTask"},{"location":"ActiveTaskCreator/","text":"ActiveTaskCreator \u00b6 createTasks \u00b6 Collection < Task > createTasks ( Consumer < byte [] , byte []> consumer , Map < TaskId , Set < TopicPartition >> tasksToBeCreated ) createTasks ...FIXME createTasks is used when: Tasks is requested to createTasks createActiveTaskFromStandby \u00b6 StreamTask createActiveTaskFromStandby ( StandbyTask standbyTask , Set < TopicPartition > inputPartitions , Consumer < byte [] , byte []> consumer ) createActiveTaskFromStandby ...FIXME createActiveTaskFromStandby is used when: Tasks is requested to convertStandbyToActive createActiveTask \u00b6 StreamTask createActiveTask ( TaskId taskId , Set < TopicPartition > inputPartitions , Consumer < byte [] , byte []> consumer , LogContext logContext , ProcessorTopology topology , ProcessorStateManager stateManager , InternalProcessorContext context ) createActiveTask ...FIXME createActiveTask is used when: ActiveTaskCreator is requested to createTasks and createActiveTaskFromStandby","title":"ActiveTaskCreator"},{"location":"ActiveTaskCreator/#activetaskcreator","text":"","title":"ActiveTaskCreator"},{"location":"ActiveTaskCreator/#createtasks","text":"Collection < Task > createTasks ( Consumer < byte [] , byte []> consumer , Map < TaskId , Set < TopicPartition >> tasksToBeCreated ) createTasks ...FIXME createTasks is used when: Tasks is requested to createTasks","title":" createTasks"},{"location":"ActiveTaskCreator/#createactivetaskfromstandby","text":"StreamTask createActiveTaskFromStandby ( StandbyTask standbyTask , Set < TopicPartition > inputPartitions , Consumer < byte [] , byte []> consumer ) createActiveTaskFromStandby ...FIXME createActiveTaskFromStandby is used when: Tasks is requested to convertStandbyToActive","title":" createActiveTaskFromStandby"},{"location":"ActiveTaskCreator/#createactivetask","text":"StreamTask createActiveTask ( TaskId taskId , Set < TopicPartition > inputPartitions , Consumer < byte [] , byte []> consumer , LogContext logContext , ProcessorTopology topology , ProcessorStateManager stateManager , InternalProcessorContext context ) createActiveTask ...FIXME createActiveTask is used when: ActiveTaskCreator is requested to createTasks and createActiveTaskFromStandby","title":" createActiveTask"},{"location":"KafkaStreams/","text":"KafkaStreams \u00b6 KafkaStreams is the developer API to Kafka Streams. KafkaStreams is a Kafka client for continuous stream processing (on input coming from one or more input topics and sending output to zero, one, or more output topics). Creating Instance \u00b6 KafkaStreams takes the following to be created: InternalTopologyBuilder (or Topology ) StreamsConfig KafkaClientSupplier (default: DefaultKafkaClientSupplier ) Time defaultStreamsUncaughtExceptionHandler \u00b6 void defaultStreamsUncaughtExceptionHandler ( Throwable throwable ) defaultStreamsUncaughtExceptionHandler ...FIXME setUncaughtExceptionHandler \u00b6 void setUncaughtExceptionHandler ( StreamsUncaughtExceptionHandler streamsUncaughtExceptionHandler ) setUncaughtExceptionHandler ...FIXME setUncaughtExceptionHandler is part of the public API. handleStreamsUncaughtException \u00b6 void handleStreamsUncaughtException ( Throwable throwable , StreamsUncaughtExceptionHandler streamsUncaughtExceptionHandler ) handleStreamsUncaughtException ...FIXME handleStreamsUncaughtException is used when: KafkaStreams is requested to setUncaughtExceptionHandler and defaultStreamsUncaughtExceptionHandler replaceStreamThread \u00b6 void replaceStreamThread ( Throwable throwable ) replaceStreamThread ...FIXME addStreamThread \u00b6 Optional < String > addStreamThread () addStreamThread ...FIXME createAndAddStreamThread \u00b6 StreamThread createAndAddStreamThread ( long cacheSizePerThread , int threadIdx ) createAndAddStreamThread ...FIXME createAndAddStreamThread is used when: KafkaStreams is created and requested to addStreamThread","title":"KafkaStreams"},{"location":"KafkaStreams/#kafkastreams","text":"KafkaStreams is the developer API to Kafka Streams. KafkaStreams is a Kafka client for continuous stream processing (on input coming from one or more input topics and sending output to zero, one, or more output topics).","title":"KafkaStreams"},{"location":"KafkaStreams/#creating-instance","text":"KafkaStreams takes the following to be created: InternalTopologyBuilder (or Topology ) StreamsConfig KafkaClientSupplier (default: DefaultKafkaClientSupplier ) Time","title":"Creating Instance"},{"location":"KafkaStreams/#defaultstreamsuncaughtexceptionhandler","text":"void defaultStreamsUncaughtExceptionHandler ( Throwable throwable ) defaultStreamsUncaughtExceptionHandler ...FIXME","title":" defaultStreamsUncaughtExceptionHandler"},{"location":"KafkaStreams/#setuncaughtexceptionhandler","text":"void setUncaughtExceptionHandler ( StreamsUncaughtExceptionHandler streamsUncaughtExceptionHandler ) setUncaughtExceptionHandler ...FIXME setUncaughtExceptionHandler is part of the public API.","title":" setUncaughtExceptionHandler"},{"location":"KafkaStreams/#handlestreamsuncaughtexception","text":"void handleStreamsUncaughtException ( Throwable throwable , StreamsUncaughtExceptionHandler streamsUncaughtExceptionHandler ) handleStreamsUncaughtException ...FIXME handleStreamsUncaughtException is used when: KafkaStreams is requested to setUncaughtExceptionHandler and defaultStreamsUncaughtExceptionHandler","title":" handleStreamsUncaughtException"},{"location":"KafkaStreams/#replacestreamthread","text":"void replaceStreamThread ( Throwable throwable ) replaceStreamThread ...FIXME","title":" replaceStreamThread"},{"location":"KafkaStreams/#addstreamthread","text":"Optional < String > addStreamThread () addStreamThread ...FIXME","title":" addStreamThread"},{"location":"KafkaStreams/#createandaddstreamthread","text":"StreamThread createAndAddStreamThread ( long cacheSizePerThread , int threadIdx ) createAndAddStreamThread ...FIXME createAndAddStreamThread is used when: KafkaStreams is created and requested to addStreamThread","title":" createAndAddStreamThread"},{"location":"StandbyTaskCreator/","text":"StandbyTaskCreator \u00b6 StandbyTaskCreator is...FIXME","title":"StandbyTaskCreator"},{"location":"StandbyTaskCreator/#standbytaskcreator","text":"StandbyTaskCreator is...FIXME","title":"StandbyTaskCreator"},{"location":"StreamTask/","text":"StreamTask \u00b6 StreamTask is a concrete AbstractTask . Creating Instance \u00b6 StreamTask takes the following to be created: TaskId Input TopicPartition s ProcessorTopology Main Consumer<byte[], byte[]> StreamsConfig StreamsMetricsImpl StateDirectory ThreadCache Time ProcessorStateManager RecordCollector InternalProcessorContext LogContext StreamTask is created when: ActiveTaskCreator is requested to createActiveTask TopologyTestDriver is requested to setupTask","title":"StreamTask"},{"location":"StreamTask/#streamtask","text":"StreamTask is a concrete AbstractTask .","title":"StreamTask"},{"location":"StreamTask/#creating-instance","text":"StreamTask takes the following to be created: TaskId Input TopicPartition s ProcessorTopology Main Consumer<byte[], byte[]> StreamsConfig StreamsMetricsImpl StateDirectory ThreadCache Time ProcessorStateManager RecordCollector InternalProcessorContext LogContext StreamTask is created when: ActiveTaskCreator is requested to createActiveTask TopologyTestDriver is requested to setupTask","title":"Creating Instance"},{"location":"StreamThread/","text":"StreamThread \u00b6 StreamThread is a Thread ( Java ). Creating Instance \u00b6 StreamThread takes the following to be created: Time StreamsConfig Admin Main Consumer<byte[], byte[]> Restore Consumer<byte[], byte[]> ChangelogReader originalReset TaskManager StreamsMetricsImpl InternalTopologyBuilder Thread ID LogContext assignmentErrorCode nextProbingRebalanceMs Shutdown Error Hook java.util.function.Consumer<Throwable> java.util.function.Consumer<Long> StreamThread is created using create utility. Creating StreamThread \u00b6 StreamThread create ( InternalTopologyBuilder builder , StreamsConfig config , KafkaClientSupplier clientSupplier , Admin adminClient , UUID processId , String clientId , StreamsMetricsImpl streamsMetrics , Time time , StreamsMetadataState streamsMetadataState , long cacheSizeBytes , StateDirectory stateDirectory , StateRestoreListener userStateRestoreListener , int threadIdx , Runnable shutdownErrorHook , java . util . function . Consumer < Throwable > streamsUncaughtExceptionHandler ) create ...FIXME create is used when: KafkaStreams is requested to createAndAddStreamThread","title":"StreamThread"},{"location":"StreamThread/#streamthread","text":"StreamThread is a Thread ( Java ).","title":"StreamThread"},{"location":"StreamThread/#creating-instance","text":"StreamThread takes the following to be created: Time StreamsConfig Admin Main Consumer<byte[], byte[]> Restore Consumer<byte[], byte[]> ChangelogReader originalReset TaskManager StreamsMetricsImpl InternalTopologyBuilder Thread ID LogContext assignmentErrorCode nextProbingRebalanceMs Shutdown Error Hook java.util.function.Consumer<Throwable> java.util.function.Consumer<Long> StreamThread is created using create utility.","title":"Creating Instance"},{"location":"StreamThread/#creating-streamthread","text":"StreamThread create ( InternalTopologyBuilder builder , StreamsConfig config , KafkaClientSupplier clientSupplier , Admin adminClient , UUID processId , String clientId , StreamsMetricsImpl streamsMetrics , Time time , StreamsMetadataState streamsMetadataState , long cacheSizeBytes , StateDirectory stateDirectory , StateRestoreListener userStateRestoreListener , int threadIdx , Runnable shutdownErrorHook , java . util . function . Consumer < Throwable > streamsUncaughtExceptionHandler ) create ...FIXME create is used when: KafkaStreams is requested to createAndAddStreamThread","title":" Creating StreamThread"},{"location":"StreamsConfig/","text":"StreamsConfig \u00b6 StreamsConfig is...FIXME","title":"StreamsConfig"},{"location":"StreamsConfig/#streamsconfig","text":"StreamsConfig is...FIXME","title":"StreamsConfig"},{"location":"StreamsPartitionAssignor/","text":"StreamsPartitionAssignor \u00b6 StreamsPartitionAssignor is...FIXME","title":"StreamsPartitionAssignor"},{"location":"StreamsPartitionAssignor/#streamspartitionassignor","text":"StreamsPartitionAssignor is...FIXME","title":"StreamsPartitionAssignor"},{"location":"TaskManager/","text":"TaskManager \u00b6 Creating Instance \u00b6 TaskManager takes the following to be created: Time ChangelogReader Process UUID Log Prefix StreamsMetricsImpl ActiveTaskCreator StandbyTaskCreator InternalTopologyBuilder Admin StateDirectory StreamThread.ProcessingMode TaskManager is created when: StreamThread utility is used to create a StreamThread handleAssignment \u00b6 void handleAssignment ( Map < TaskId , Set < TopicPartition >> activeTasks , Map < TaskId , Set < TopicPartition >> standbyTasks ) handleAssignment ...FIXME handleAssignment is used when: StreamsPartitionAssignor is requested to onAssignment handleCloseAndRecycle \u00b6 void handleCloseAndRecycle ( Set < Task > tasksToRecycle , Set < Task > tasksToCloseClean , Set < Task > tasksToCloseDirty , Map < TaskId , Set < TopicPartition >> activeTasksToCreate , Map < TaskId , Set < TopicPartition >> standbyTasksToCreate , LinkedHashMap < TaskId , RuntimeException > taskCloseExceptions ) handleCloseAndRecycle ...FIXME","title":"TaskManager"},{"location":"TaskManager/#taskmanager","text":"","title":"TaskManager"},{"location":"TaskManager/#creating-instance","text":"TaskManager takes the following to be created: Time ChangelogReader Process UUID Log Prefix StreamsMetricsImpl ActiveTaskCreator StandbyTaskCreator InternalTopologyBuilder Admin StateDirectory StreamThread.ProcessingMode TaskManager is created when: StreamThread utility is used to create a StreamThread","title":"Creating Instance"},{"location":"TaskManager/#handleassignment","text":"void handleAssignment ( Map < TaskId , Set < TopicPartition >> activeTasks , Map < TaskId , Set < TopicPartition >> standbyTasks ) handleAssignment ...FIXME handleAssignment is used when: StreamsPartitionAssignor is requested to onAssignment","title":" handleAssignment"},{"location":"TaskManager/#handlecloseandrecycle","text":"void handleCloseAndRecycle ( Set < Task > tasksToRecycle , Set < Task > tasksToCloseClean , Set < Task > tasksToCloseDirty , Map < TaskId , Set < TopicPartition >> activeTasksToCreate , Map < TaskId , Set < TopicPartition >> standbyTasksToCreate , LinkedHashMap < TaskId , RuntimeException > taskCloseExceptions ) handleCloseAndRecycle ...FIXME","title":" handleCloseAndRecycle"},{"location":"Tasks/","text":"Tasks \u00b6 createTasks \u00b6 void createTasks ( Map < TaskId , Set < TopicPartition >> activeTasksToCreate , Map < TaskId , Set < TopicPartition >> standbyTasksToCreate ) createTasks ...FIXME createTasks is used when: TaskManager is requested to handleAssignment convertStandbyToActive \u00b6 void convertStandbyToActive ( StandbyTask standbyTask , Set < TopicPartition > partitions ) convertStandbyToActive ...FIXME convertStandbyToActive is used when: TaskManager is requested to handleCloseAndRecycle","title":"Tasks"},{"location":"Tasks/#tasks","text":"","title":"Tasks"},{"location":"Tasks/#createtasks","text":"void createTasks ( Map < TaskId , Set < TopicPartition >> activeTasksToCreate , Map < TaskId , Set < TopicPartition >> standbyTasksToCreate ) createTasks ...FIXME createTasks is used when: TaskManager is requested to handleAssignment","title":" createTasks"},{"location":"Tasks/#convertstandbytoactive","text":"void convertStandbyToActive ( StandbyTask standbyTask , Set < TopicPartition > partitions ) convertStandbyToActive ...FIXME convertStandbyToActive is used when: TaskManager is requested to handleCloseAndRecycle","title":" convertStandbyToActive"},{"location":"Topology/","text":"Topology \u00b6 Topology is...FIXME","title":"Topology"},{"location":"Topology/#topology","text":"Topology is...FIXME","title":"Topology"},{"location":"overview/","text":"Kafka Streams\u2009\u2014\u2009Stream Processing Library on Apache Kafka \u00b6 Kafka Streams is a library for developing applications for processing records from topics in Apache Kafka.","title":"Overview"},{"location":"overview/#kafka-streams-stream-processing-library-on-apache-kafka","text":"Kafka Streams is a library for developing applications for processing records from topics in Apache Kafka.","title":"Kafka Streams\u2009&mdash;\u2009Stream Processing Library on Apache Kafka"}]}